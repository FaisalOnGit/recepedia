<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Meal Detail</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css"
    />
    <style>
      body {
        font-family: "Poppins", sans-serif;
      }
      .bg-orange-custom {
        background-color: #f79f1a;
      }
      .orange {
        color: #f79f1a;
      }
    </style>
  </head>
  <body>
    <!-- Navbar -->
    <nav class="orange p-4">
      <div class="container mx-auto flex justify-between items-center">
        <a href="#" class="text-xl font-bold">
          <span class="text-3xl">üç§</span>Recepedia
        </a>
        <ul class="flex space-x-4">
          <li><a href="#" class="hover:text-gray-300">Home</a></li>
          <li>
            <a href="#category-list" class="hover:text-gray-300">Categories</a>
          </li>
          <li><a href="#" class="hover:text-gray-300">About</a></li>
          <li><a href="#" class="hover:text-gray-300">Contact</a></li>
        </ul>
      </div>
    </nav>

    <div class="container mx-auto mt-10">
      <h2 class="text-4xl font-bold mb-3 text-center orange">How To Make</h2>
      <h2
        id="meal-title"
        class="text-3xl font-bold mb-5 text-center orange"
      ></h2>
      <div class="flex flex-col md:flex-row justify-between items-start mb-5">
        <img
          id="meal-image"
          class="mb-5 md:mb-0 md:w-1/2 rounded-lg shadow-lg object-cover"
          src=""
          alt=""
          style="max-width: 500px; height: auto"
        />
        <div class="md:w-1/2 md:ml-5 bg-orange-custom p-5 rounded-xl shadow-lg">
          <h2 class="text-white font-bold text-2xl text-center">
            Instructions
          </h2>
          <p class="text-white" id="meal-instructions"></p>
        </div>
      </div>

      <div class="flex flex-col md:flex-row items-center justify-between mb-5">
        <div class="md:w-1/2">
          <div
            class="md:w-1/2 bg-orange-custom p-5 rounded-lg text-white shadow-lg mb-5"
          >
            <h3 class="text-xl font-semibold mb-2">Ingredients:</h3>
            <ul id="meal-recipe" class="list-disc list-inside"></ul>
          </div>
        </div>
        <div class="md:w-1/2 md:ml-5">
          <h2 class="font-bold text-3xl orange text-center mb-2">Tutorial</h2>
          <div id="meal-video">
            <!-- Yt -->
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer class="orange py-6 mt-10">
      <div class="container mx-auto text-center">
        <p class="text-lg mb-2">Follow us on social media</p>
        <div class="flex justify-center space-x-4 mb-4">
          <a href="#" class="hover:text-gray-300">Facebook</a>
          <a href="#" class="hover:text-gray-300">Twitter</a>
          <a href="#" class="hover:text-gray-300">Instagram</a>
          <a href="#" class="hover:text-gray-300">YouTube</a>
        </div>
        <p class="text-sm">
          &copy; 2024 Recepedia. All rights reserved. Faisal Rahman
        </p>
      </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script>
      const urlParams = new URLSearchParams(window.location.search);
      const mealId = urlParams.get("meal");

      axios
        .get(`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${mealId}`)
        .then((response) => {
          const meal = response.data.meals[0];
          document.getElementById("meal-title").textContent = meal.strMeal;
          document.getElementById("meal-image").src = meal.strMealThumb;
          document.getElementById("meal-instructions").textContent =
            meal.strInstructions;

          let recipe = "";
          for (let i = 1; i <= 20; i++) {
            if (meal[`strIngredient${i}`]) {
              recipe += `<li>${meal[`strIngredient${i}`]} - ${
                meal[`strMeasure${i}`]
              }</li>`;
            }
          }
          document.getElementById("meal-recipe").innerHTML = recipe;

          if (meal.strYoutube) {
            document.getElementById("meal-video").innerHTML = `
        <iframe width="100%" height="315" src="https://www.youtube.com/embed/${
          meal.strYoutube.split("=")[1]
        }" frameborder="0" allowfullscreen class="rounded-lg"></iframe>`;
          }
        });
    </script>
  </body>
</html>
